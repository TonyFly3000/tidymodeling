{
  "hash": "1fd2c312eba8a9eae4b8f5b03a9a9426",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Probability\"\nauthor: \"Tony Duan\"\n\nexecute:\n  warning: false\n  error: false\nformat:\n  html:\n    toc: true\n    toc-location: right\n    code-fold: show\n    code-tools: true\n    number-sections: true\n    code-block-bg: true\n    code-block-border-left: \"#31BAE9\"\n---\n\nProbability is the branch of mathematics concerning events and numerical descriptions of how likely they are to occur. The probability of an event is a number between 0 and 1; the larger the probability, the more likely an event is to occur.\n\n![](images/images-01.jpg){width=\"350\"}\n\n# Random number\n\n## draw 10 number from 1 to 10\n\n::: {.cell}\n\n```{.r .cell-code}\na=sample(1:10,10, replace=T) \na\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 7 3 4 9 8 4 6 1 8 9\n```\n\n\n:::\n:::\n\neach number around 10%\n\n::: {.cell}\n\n```{.r .cell-code}\nas.data.frame(table(a))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  a Freq\n1 1    1\n2 3    1\n3 4    2\n4 6    1\n5 7    1\n6 8    2\n7 9    2\n```\n\n\n:::\n:::\n\n## draw 10,000 number from 1 to 10\n\n::: {.cell}\n\n```{.r .cell-code}\na=sample(1:10,10000, replace=T) \n```\n:::\n\neach number around 10%\n\n::: {.cell}\n\n```{.r .cell-code}\nas.data.frame(table(a))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    a Freq\n1   1  993\n2   2 1044\n3   3  955\n4   4  963\n5   5  967\n6   6 1001\n7   7 1035\n8   8 1043\n9   9  977\n10 10 1022\n```\n\n\n:::\n:::\n\n# Permutations and Combinations\n\n![](images/clipboard-2817248623.png)\n\n## Permutations(order dose matter), 2 number from 4 number\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(gtools)\nall_num=4\nchoose=2\n\nres<- permutations(n= all_num, r = choose, v = c(1:all_num))\nres\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      [,1] [,2]\n [1,]    1    2\n [2,]    1    3\n [3,]    1    4\n [4,]    2    1\n [5,]    2    3\n [6,]    2    4\n [7,]    3    1\n [8,]    3    2\n [9,]    3    4\n[10,]    4    1\n[11,]    4    2\n[12,]    4    3\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nprint (nrow(res))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 12\n```\n\n\n:::\n:::\n\nall_num!/choose!\n\n4!/2!\n\n::: {.cell}\n\n```{.r .cell-code}\n(4*3*2*1)/(2*1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 12\n```\n\n\n:::\n:::\n\nor\n\n::: {.cell}\n\n```{.r .cell-code}\nfactorial(4) / factorial(2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 12\n```\n\n\n:::\n:::\n\n## Combinations(order no matter), 2 number from 4 number\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(gtools)\nall_num=4\nchoose=2\n\nres<- combinations(n= all_num, r = choose, v = c(1:all_num))\nres\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     [,1] [,2]\n[1,]    1    2\n[2,]    1    3\n[3,]    1    4\n[4,]    2    3\n[5,]    2    4\n[6,]    3    4\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nprint (nrow(res))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6\n```\n\n\n:::\n:::\n\nall_num!/((all_num-choose)! \\* choose!\n\n4!/((4-2)! \\* 2!)\n\n::: {.cell}\n\n```{.r .cell-code}\n(4*3*2*1)/((2*1)*(2*1))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6\n```\n\n\n:::\n:::\n\nor\n\n::: {.cell}\n\n```{.r .cell-code}\nfactorial(4) / (factorial(4-2)*factorial(2))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6\n```\n\n\n:::\n:::\n\n# conditional probability\n\neach one snoring probability is 20%,4 people in one room.\n\nIn one room,at least one snoring probability is ?\n\n::: {.cell}\n\n```{.r .cell-code}\np=0.2\nn=4\n```\n:::\n\n## soluition 1:P(at least one)=P(1 snoring)+P(2 snoring)+P(3 snoring)+P(4 snoring)\n\n### 0 snoring\n\n::: {.cell}\n\n```{.r .cell-code}\np0=(0.8*0.8*0.8*0.8)\np0\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.4096\n```\n\n\n:::\n:::\n\n### 1 snoring\n\n::: {.cell}\n\n```{.r .cell-code}\np1=(0.2*0.8*0.8*0.8)*4\np1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.4096\n```\n\n\n:::\n:::\n\n### 2 snoring\n\nchoose 2 from 4: factorial(4) / (factorial(4-2)\\*factorial(2))\n\ntotal 6 Permutations\n\n::: {.cell}\n\n```{.r .cell-code}\nfactorial(4) / (factorial(4-2)*factorial(2))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np2=(0.2*0.2*0.8*0.8)*6\np2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.1536\n```\n\n\n:::\n:::\n\n### 3 snoring\n\nchoose 3 from 4 Combinations(order matter),factorial(4) / (factorial(4-3)\\*factorial(3))\n\n4 Combinations:\n\n::: {.cell}\n\n```{.r .cell-code}\nfactorial(4) / (factorial(4-3)*factorial(3))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np3=(0.2*0.2*0.2*0.8)*4\np3\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.0256\n```\n\n\n:::\n:::\n\n### 4 snoring\n\n::: {.cell}\n\n```{.r .cell-code}\np4=(0.2*0.2*0.2*0.2)\np4\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.0016\n```\n\n\n:::\n:::\n\n### at least one:\n\n::: {.cell}\n\n```{.r .cell-code}\nP_at_least_one=p1+p2+p3+p4\nP_at_least_one\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.5904\n```\n\n\n:::\n:::\n\n## solution 2:P(at least one)=1-P(no one snoring)\n\n::: {.cell}\n\n```{.r .cell-code}\nP_at_least_one2=1-0.8*0.8*0.8*0.8\nP_at_least_one2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.5904\n```\n\n\n:::\n:::\n\n# Derangement problem\n\n## Question 1.what is probability of choose 4 number from 4 number and 0 correct(all wrong).\n\n### permutations(order matter)\n\n4!=4*3*2\\*1=24 combination\n\n::: {.cell}\n\n```{.r .cell-code}\n4*3*2*1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 24\n```\n\n\n:::\n:::\n\n### Derangement\n\n![](images/clipboard-63529608.png)\n\nor\n\n![](images/55.png)\n\nThere are 9 Derangement(all wrong)\n\n::: {.cell}\n\n```{.r .cell-code}\ne=2.71828\n#D(4)=(4!+1)/e\n\nD_4=floor((4*3*2*1+1)/e)\nD_4\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 9\n```\n\n\n:::\n:::\n\nSo the all wrong probability of choose 4 number from 4 number is\n\n::: {.cell}\n\n```{.r .cell-code}\nQ1=(floor((4*3*2*1+1)/e))/(4*3*2*1)\nQ1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.375\n```\n\n\n:::\n:::\n\n## Question 2. what is probability of choose 4 number from 4 number and only 1 correct\n\n### permutations(order matter)\n\n4!=4*3*2\\*1=24 combination\n\n::: {.cell}\n\n```{.r .cell-code}\n4*3*2*1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 24\n```\n\n\n:::\n:::\n\n### Derangement\n\nany of the 4 number can be correct, and remaining 3 number all wrong and it become the D(3) Derangement problem\n\n::: {.cell}\n\n```{.r .cell-code}\ne=2.71828\n#D(3)=(3!+1)/e\n\nD_3=floor((3*2*1+1)/e)\nD_3\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2\n```\n\n\n:::\n:::\n\nSo the probability of choose 4 number from 4 number and only 1 correct is\n\n::: {.cell}\n\n```{.r .cell-code}\nQ2=(4*2)/(4*3*2*1)\nQ2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.3333333\n```\n\n\n:::\n:::\n\n## Question 3. what is probability of choose 4 number from 4 number and only 2 correct\n\nthe problem is same as choose 2 number from 4 number.total 6 Combinations(order no matter)\n\n::: {.cell}\n\n```{.r .cell-code}\nfactorial(4) / (factorial(4-2)*factorial(2))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6\n```\n\n\n:::\n:::\n\nSo the probability of choose 4 number from 4 number and only 2 correct is\n\n::: {.cell}\n\n```{.r .cell-code}\nQ3=6/(4*3*2*1)\nQ3\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.25\n```\n\n\n:::\n:::\n\n## Question 4.what is probability of choose 4 number from 4 number and only 3 correct\n\nIts same as all correct. since 3 correct the last one will be also correct\n\n::: {.cell}\n\n```{.r .cell-code}\nQ4=1/(4*3*2*1)\nQ4\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.04166667\n```\n\n\n:::\n:::\n\n## Question 5.what is probability of choose 4 number from 4 number and 4 correct(all correct)\n\nIts same as all correct. since 3 correct the last one will be also correct\n\n\nSo all event total probability is 1\n\n::: {.cell}\n\n```{.r .cell-code}\nQ1+Q2+Q3+Q4\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n```\n\n\n:::\n:::\n\n# Distribution\n\n## Binomial distribution\n\nthe binomial distribution with parameters n and p is the discrete probability distribution of the number of successes in a sequence of n independent experiments, each asking a yes–no question, and each with its own Boolean-valued outcome: success (with probability p) or failure (with probability 1-p)\n\nfor a single trial, i.e., n = 1, the binomial distribution is a Bernoulli distribution\n\n### Probability density function (pdf)\n\n1 people snoring Probability\n\n::: {.cell}\n\n```{.r .cell-code}\nn = 4 # number of people in a room\np = 0.2 # snoring\n\ndbinom(x=1, size=n, prob=p) # 1 people snoring Probability\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.4096\n```\n\n\n:::\n:::\n\n1,2,3,4 people snoring Probability\n\n::: {.cell}\n\n```{.r .cell-code}\nn = 4 # number of people in a room\np = 0.2 # snoring\n\ndbinom(x=c(0,1,2,3,4), size=n, prob=p) # 1 people snoring Probability\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.4096 0.4096 0.1536 0.0256 0.0016\n```\n\n\n:::\n:::\n\nsum of all event Probability is always 1\n\n::: {.cell}\n\n```{.r .cell-code}\nsum(dbinom(x=c(0,1,2,3,4), size=n, prob=p))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n```\n\n\n:::\n:::\n\n### Probability function\n\n\\<=1 people snoring\n\n::: {.cell}\n\n```{.r .cell-code}\npbinom(q=1, size=n,prob=p, lower.tail=TRUE) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8192\n```\n\n\n:::\n:::\n\n### generate 10000 number from 0 to 4 with Probability=0.2\n\n::: {.cell}\n\n```{.r .cell-code}\na=rbinom(1000,size=4,0.2) \n\ntable(a)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\na\n  0   1   2   3   4 \n423 387 159  30   1 \n```\n\n\n:::\n:::\n\n## Normal Distribution(also called Gaussian distribution)\n\nX is a random variable following a normal distribution with mean μ and variance σ2\n\n68% within 1 standard deviation\n\n95% within 2 standard deviation\n\n99.7% within 3 standard deviation\n\n### Z score and standard Normal Distribution\n\nstandard Normal Distribution is special Normal Distribution with mean=0 and standard deviation =1\n\n![](images/clipboard-4010975181.png)\n\nZ table\n\n![](images/clipboard-3635575854.png)\n\n### Standardization\n\ntransfer any normal Distribution into standard Normal Distribution\n\n![](images/clipboard-2062792649.png)\n\nformula:\n\n![](images/clipboard-625920785.png){width=\"421\"}\n\n### R function\n\n![](images/clipboard-1214752693.png)\n\n### Probability Density Function (pdf)\n\n![](images/clipboard-3193047058.png){width=\"500\"}\n\ncomputes the pdf at location 0 of N(0,4),normal distribution with mean 1 and variance 4.\n\nsd is the standard deviation, which is the square root of the variance.\n\n::: {.cell}\n\n```{.r .cell-code}\ndnorm(0, mean = 1, sd = 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.1760327\n```\n\n\n:::\n:::\n\n### cumulative distribution function(cdf)\n\n![](images/clipboard-3037827223.png){width=\"500\"}\n\nProbability of \\<=70 from Normal Distribtion with mean=75 and sd=5\n\nsmaller than 1 standard deviation from the mean\n\n::: {.cell}\n\n```{.r .cell-code}\npnorm(q=70,mean=75,sd=5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.1586553\n```\n\n\n:::\n:::\n\nProbability of \\>=80 from Normal Distribtion with mean=75 and sd=5\n\nlarger than 1 standard deviation from the mean\n\n::: {.cell}\n\n```{.r .cell-code}\n1-pnorm(q=80,mean=75,sd=5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.1586553\n```\n\n\n:::\n:::\n\n### quantile function\n\n![](images/clipboard-3591572952.png){width=\"500\"}\n\nQ1\n\n::: {.cell}\n\n```{.r .cell-code}\nqnorm(p=0.25,mean=75,sd=5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 71.62755\n```\n\n\n:::\n:::\n\nQ3\n\n::: {.cell}\n\n```{.r .cell-code}\nqnorm(p=0.75,mean=75,sd=5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 78.37245\n```\n\n\n:::\n:::\n\n### random number generator\n\n![](images/clipboard-3231751048.png){width=\"500\"}\n\n### generate 1000 number from Normal Distribtion with mean=75 and sd=5\n\n::: {.cell}\n\n```{.r .cell-code}\nnd=rnorm(n=1000,mean=75,sd=5)\nnd=sort(nd)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(nd)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 75.30086\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsd(nd)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4.987745\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(nd)\n```\n\n::: {.cell-output-display}\n![](2-probability_files/figure-html/unnamed-chunk-46-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndens=dnorm(nd,mean=mean(nd),sd=sd(nd))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(nd,dens,type='l')\n```\n\n::: {.cell-output-display}\n![](2-probability_files/figure-html/unnamed-chunk-48-1.png){width=672}\n:::\n:::\n\n### check data normally distributed\n\n::: {.cell}\n\n```{.r .cell-code}\nnd_data=rnorm(n=1000,mean=0,sd=2)\nnd_data=sort(nd_data)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nnon_nd_data=seq(1:1000)\nnon_nd_data=sort(non_nd_data)\n```\n:::\n\n#### method 1 :histogram\n\n::: {.cell}\n\n```{.r .cell-code}\n#define plotting region\npar(mfrow=c(1,2)) \n\n#create histogram for both datasets\nhist(nd_data, col='steelblue', main='Normal')\nhist(non_nd_data, col='steelblue', main='Non-normal')\n```\n\n::: {.cell-output-display}\n![](2-probability_files/figure-html/unnamed-chunk-51-1.png){width=672}\n:::\n:::\n\n#### method 2 :Q-Q plot\n\n::: {.cell}\n\n```{.r .cell-code}\n#define plotting region\npar(mfrow=c(1,2)) \n\n#create Q-Q plot for both datasets\nqqnorm(nd_data, main='Normal')\nqqline(nd_data)\n\nqqnorm(non_nd_data, main='Non-normal')\nqqline(non_nd_data)\n```\n\n::: {.cell-output-display}\n![](2-probability_files/figure-html/unnamed-chunk-52-1.png){width=672}\n:::\n:::\n\n#### Method 3: Shapiro-Wilk Test\n\nnull hypothesis (H0):The data is normally distributed.\n\nif p-value =\\>0.05 then normally distributed\n\n::: {.cell}\n\n```{.r .cell-code}\n#perform shapiro-wilk test\nshapiro.test(nd_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tShapiro-Wilk normality test\n\ndata:  nd_data\nW = 0.99888, p-value = 0.8031\n```\n\n\n:::\n:::\n\nif p-value \\<0.05 then not normally distributed(reject the null hypothesis)\n\n::: {.cell}\n\n```{.r .cell-code}\n#perform shapiro-wilk test\nshapiro.test(non_nd_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tShapiro-Wilk normality test\n\ndata:  non_nd_data\nW = 0.95481, p-value < 2.2e-16\n```\n\n\n:::\n:::\n\n## student t distribution\n\n![](images/clipboard-3444893160.png)\n\n### one sample t test\n\n### two sample t test\n\n### Paired t test\n\n### Pearson correlation coefficient\n\n## F distribution\n\n### ANOVA\n\n## Chi-square\n\n### Chi-square goodness of fit test\n\n### Chi-square test of independence\n\n## Poisson Distribution\n\n# Reference\n\nhttps://www.huber.embl.de/users/kaspar/biostat_2021/2-demo.html\n\nhttps://www.youtube.com/watch?v=peEsXbdMY_4\n\nhttps://www.youtube.com/watch?v=ETd-jPhI_tE\n\nhttps://www.youtube.com/watch?v=kvmSAXhX9Hs\n\nhttps://www.youtube.com/watch?v=RlhnNbPZC0A\n\nhttps://www.youtube.com/watch?v=X5NXDK6AVtU\n\nhttps://www.scribbr.com/statistics/probability-distributions/#:\\~:text=A%20probability%20distribution%20is%20a,using%20graphs%20or%20probability%20tables.\n\nhttps://www.youtube.com/watch?v=Q_pO9NzWxPY\n\nhttps://www.statology.org/test-for-normality-in-r/\n\nhttps://en.wikipedia.org/wiki/Derangement\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```{.details summary=\"sessionInfo()\"}\nR version 4.4.1 (2024-06-14)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS 15.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Asia/Shanghai\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] gtools_3.9.5\n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.4 compiler_4.4.1    fastmap_1.2.0     cli_3.6.3        \n [5] tools_4.4.1       htmltools_0.5.8.1 yaml_2.3.10       rmarkdown_2.28   \n [9] knitr_1.48        jsonlite_1.8.9    xfun_0.48         digest_0.6.37    \n[13] rlang_1.1.5       evaluate_1.0.1   \n```\n\n\n:::\n:::\n",
    "supporting": [
      "2-probability_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}