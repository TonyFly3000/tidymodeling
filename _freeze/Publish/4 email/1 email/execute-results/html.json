{
  "hash": "c3b93518dcbb1a8dcb9e929356254a72",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Email\"\nauthor: \"Tony Duan\"\n\nexecute:\n  warning: false\n  eval: false\n  error: false\n\n  \nformat:\n  html:\n    toc: true\n    toc-location: right\n    code-fold: show\n    code-tools: true\n    \n    code-block-bg: true\n    code-block-border-left: \"#31BAE9\"\n    code-copy: true\ncss: hscroll.css\n---\n\n\n\n# send email with {blastula}\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(blastula)\nlibrary(keyring)\n```\n:::\n\n## create smtp credentials\n\n### gmail\n::: {.cell}\n\n```{.r .cell-code}\ncreate_smtp_creds_key(\n  id = \"gmail001_creds\",\n  provider = \"gmail\",\n  user = \"verykoala@gmail.com\",\n  overwrite = TRUE\n  )\n```\n:::\n\n### outlook\n::: {.cell}\n\n```{.r .cell-code}\n# create_smtp_creds_key(\n#   id = \"outlook001_creds\",\n#   provider = \"outlook\",\n#   user = \"jcpartner@outlook.com\",\n#   overwrite = TRUE\n#   )\n\ncreate_smtp_creds_file(file = \"ggnot_throwaway_creds\",\n                       user = \"jcpartner@outlook.com\",\n                       provider = \"outlook\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#delete_credential_key(\"gmail001_creds\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nview_credential_keys()\n```\n:::\n\n## email content\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(blastula)\nmsg=compose_email(\n  body = md(\n  \"Hi there ðŸ‘‹,\n  \n  This is an email to let you now thatrunning job **finished**.\n\n  Best,<br>\n  Tony\"\n  )\n)\n\nmsg\n```\n:::\n\n\n\n\n## send email\n\n### send from gmail\n::: {.cell}\n\n```{.r .cell-code}\nmsg %>% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n```\n:::\n\n\n### send from outlook\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(Microsoft365R)\noutl <- get_personal_outlook()\n```\n:::\n::: {.cell}\n\n```{.r .cell-code}\n# list the most recent emails in your Inbox\n#outl$list_emails()\n```\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nem <- outl$create_email(msg, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nem$send()\n```\n:::\n\n\n## send email with quarto content\n\n::: {.cell}\n\n```{.r .cell-code}\nemail_obj=render_email('.quarto_email.Rmd')\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nemail_obj\n```\n:::\n\n\n### send from gmail\n\n::: {.cell}\n\n```{.r .cell-code}\nemail_obj%>% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n```\n:::\n\n### send from outlook\n\n::: {.cell}\n\n```{.r .cell-code}\nem <- outl$create_email(email_obj, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\nem$send()\n```\n:::\n\n\n# Reference:\nhttps://www.youtube.com/watch?v=PihKq1GPlcc",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}